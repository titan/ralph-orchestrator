# Builder Preset (Single Hat)
#
# Minimal configuration with a single builder hat.
# No planning phase - just build directly from the prompt.
#
# Best for:
#   - Small, well-defined tasks
#   - Quick iterations
#   - Tasks where planning overhead isn't needed
#
# Usage:
#   ralph run -c presets/minimal/builder.yml -p "Fix the login bug"

event_loop:
  completion_promise: "LOOP_COMPLETE"
  max_iterations: 50
  max_runtime_seconds: 7200            # 2 hours
  idle_timeout_secs: 900

cli:
  backend: "claude"
  prompt_mode: "arg"

core:
  specs_dir: "./specs/"
  guardrails:
    - "Fresh context each iteration - save learnings to memories for next time"
    - "Don't assume 'not implemented' - search first"
    - "Verification is mandatory - tests/typecheck/lint must pass"

hats:
  builder:
    name: "Builder"
    description: "Builds directly from the prompt. No planning phase."
    triggers: ["task.start"]
    publishes: ["build.done", "build.blocked"]
    default_publishes: "build.done"
    # No instructions - derived from pub/sub contract
